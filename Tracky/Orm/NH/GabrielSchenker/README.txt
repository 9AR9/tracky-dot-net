This folder represents an aborted attempt to implement Gabriel Schenker's Unit of Work pattern for NHibernate, as originally published on 9/23/2008, and as of 4/28/2017, was available on the official NHibernate website at http://nhibernate.info/doc/patternsandpractices/nhibernate-and-the-unit-of-work-pattern.html.

As the effort was aborted, here are some salient points about the attempt.

1. Although many inconsistencies in the article were noted along the way, where code was not properly explained as the TDD wrapped up with tests that were supposed to be runable, I was able to modify the code accordingly to what I think he meant for it to be. That is, until the end of Part 2 was encountered, in the final section named Using the Unit of Work. A test is attempted that will actually write a new entity to the database, but an error is encountered.

2. The test in question (called ShouldUseUnitOfWorkToActuallyWriteToDatabase() in UnitOfWorkManagerTests.cs) creates a new Artist object, and attempts to write it to the database. The error that is seen in this test, however, happens when the SchemaExport function is used to create a schema for the test to use. The error reads "There is already an object named 'Authors' in the database." - and, of course there is. The database exists already. I changed the third parameter of the Execute statement chained off of SchemaExport to true, and now I don't get that error, so perhaps this means that the schema really has been dropped and recreated for the test.

3. However, this test is still failing with a strange stack overflow exception timeout, that seems to happen after calling TransactionalFlush on the current UoW in the last line of the test, but with no stack trace information to help diagnose what the problem is. This is the point where progression on this particular UoW implementation was stopped, in favor of doing some more research into SchemaExport, and properly dropping/recreating a db schema for the purposes of testing. There are only two simple mapping XML files in use, which of course map to the pre-existing database. So what's the problem here?